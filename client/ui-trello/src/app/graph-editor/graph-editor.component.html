<div *ngIf="nodes.length && links.length; else loading">
  <ngx-graph
    [links]="links"
    [nodes]="nodes"
    [layout]="'dagreCluster'"
    [curve]="curve">
    <ng-template #customTemplate let-node>
      <div
        class="node"
        [class.selected]="selectedNodes.includes(node.id)"
        (click)="onNodeClicked(node)">
        {{ node.label }}
      </div>
    </ng-template>
  </ngx-graph>
</div>

<ng-template #loading>
  <p>Loading graph...</p>
</ng-template>
